{% extends 'index.html' %}

{% load static %}

{% block sidebar %}
<ul class="sidebar-nav">
  <li class="sidebar-header">
    Layer 3 Switch -WSC3650
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#basic">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">Basic Functions</span>
    </a>
  </li>
  <li class="sidebar-header">
    Protocols
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#radius">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">Radius</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#ntp">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">NTP</span>
    </a>
  </li>
  <li class="sidebar-header">
    Advanced Options
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#login_security">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">Login Security</span>
    </a>
  </li>

  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#dhcp">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">DHCP</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#usracc">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">User Settings</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#ospfv3">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">VLAN</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#l3acl">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">ACL</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#stp_vlan">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">STP VLAN</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#intrfce">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">Interfaces</span>
    </a>
  </li>
  <li class="sidebar-item">
    <a class="sidebar-link" gotoid="#vlan">
      <i class="align-middle" data-feather="briefcase"></i> <span class="align-middle">VLAN</span>
    </a>
  </li>

</ul>
{% endblock %}


{% block router_content %}

<div class="container">
  <form method='POST' action="save">

    <div class="input-group">

      <label for="script_name">Script Name</label>


      <input type="text" class="form-control" name="script_name" value="{{script.script_name}}" aria-label="Script">

    </div>
    <hr>
    <div class="row">
      <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="basic">BASIC</h3>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="host_name">Device Name</label>
      </div>
      <div class="col-75">
        <input type="text" id="host_name" name="host_name" placeholder="Device Name" value="{{script.host_name}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="banner_motd">Banner MOTD</label>
      </div>
      <div class="col-75">
        <input type="text" id="banner_motd" name="banner_motd" placeholder="Banner MOTD" value="{{script.banner_motd}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="secret">Secret Password</label>
      </div>
      <div class="col-75">
        <input type="text" id="secret" name="secret" placeholder="Secret Password" value="{{script.secret}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="min_length">Minimum Password Length</label>
      </div>
      <div class="col-75">
        <input type="text" id="min_length" name="min_length" placeholder="Minimum Password Length"
          value="{{script.min_length}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="deafult_gateway">Default Gateway</label>
      </div>
      <div class="col-75">
        <input type="text" id="default_gateway" name="default_gateway" placeholder="xxx.xxx.xxx.xxx"
          value="{{script.default_gateway}}">
      </div>
    </div>
    <hr>
    <!-- Radius -->
    <div class="row">
      <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="radius">Radius</h3>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="radius_server">Radius Server Name</label>
      </div>
      <div class="col-75">
        <input type="text" id="radius_server" name="radius_server" placeholder="Server Name"
          value="{{script.radius_server}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="radius_ip">Radius IP Address</label>
      </div>
      <div class="col-75">
        <input type="text" id="radius_ip" name="radius_ip" placeholder="xxx.xxx.xxx.xxx" value="{{script.radius_ip}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="radius_group">Radius Group Name</label>
      </div>
      <div class="col-75">
        <input type="text" id="radius_group" name="radius_group" placeholder="Group Name"
          value="{{script.radius_group}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="radius_key">Radius Key</label>
      </div>
      <div class="col-75">
        <input type="text" id="radius_key" name="radius_key" placeholder="Radius Password"
          value="{{script.radius_key}}">
      </div>
    </div>

    <div class="row">
      <div class="col-25">
        <label for="max_fail">Authentication Attempts</label>
      </div>
      <div class="col-75">
        <input type="text" id="max_fail" name="max_fail" placeholder="Number of Attempts" value="{{script.max_fail}}">
      </div>
    </div>
    <hr>
    <!-- NTP -->

    <div class="row">
      <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="ntp">NTP</h3>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="ntp_server">NTP Server</label>
      </div>
      <div class="col-75">
        <input type="text" id="ntp_server" name="ntp_server" placeholder="xxx.xxx.xxx.xxx"
          value="{{script.ntp_server}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="ntp_auth_key">Authentication Key</label>
      </div>
      <div class="col-75">
        <input type="text" id="ntp_auth_key" name="ntp_auth_key" placeholder="Authentication Key Number"
          value="{{script.ntp_auth_key}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="ntp_trust_key">Trusted Key</label>
      </div>
      <div class="col-75">
        <input type="text" id="ntp_trust_key" name="ntp_trust_key" placeholder="Trusted Key Number"
          value="{{script.ntp_trust_key}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="ntp_pass">Password</label>
      </div>
      <div class="col-75">
        <input type="text" id="ntp_pass" name="ntp_pass" placeholder="Password" value="{{script.ntp_pass}}">
      </div>
    </div>
    <hr>
    <!-- Login Security -->

    <div class="row">
      <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="login_security">Login
        Security</h3>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="login_block_time">Login Block</label>
      </div>
      <div class="col-75">
        <input type="text" id="login_block_time" name="login_block_time" placeholder="Time in Seconds"
          value="{{script.login_block_time}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="login_tries">Available Trials</label>
      </div>
      <div class="col-75">
        <input type="text" id="login_tries" name="login_tries" placeholder="Number of Tries"
          value="{{script.login_tries}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="tries_time">Login Timeout</label>
      </div>
      <div class="col-75">
        <input type="text" id="tries_time" name="tries_time" placeholder="Time in Seconds"
          value="{{script.tries_time}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="login_delay">Login Delay</label>
      </div>
      <div class="col-75">
        <input type="text" id="login_delay" name="login_delay" placeholder="Time in Seconds"
          value="{{script.login_delay}}">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="login_access">Login Access</label>
      </div>
      <div class="col-75">
        <input type="text" id="login_access" name="login_access" placeholder="Access List Name"
          value="{{script.login_access}}">
      </div>
    </div>
    <hr>
    <!-- DHCP -->

    <div class="row">
      <div class="col-25">
        <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="dhcp">DHCP
        </h3>
      </div>
      <div class="col-75"><button class="btn btn-primary" type="button" id="adddhcp"><i data-feather="plus"></i>
          <span>Add DHCP</span></button>
        <button class="btn btn-primary" type="button" id="addex"><i data-feather="plus"></i>
          <span>Add DHCP Excluded Address</span></button>
      </div>
    </div>
    <div class='dhcpexs'>
      <input type='hidden' id='dhcp_ex_count' name='dhcp_ex_count' value="{{dhcpexs|length}}">
      <div class='dhcpexform' id='0'></div>
      {% for dhcpex in dhcpexs %}
      <div class='dhcpexform' id='{{forloop.counter}}'>
        <div class='row'>
          <div class='col-25'>
            <label for='dhcpex{{forloop.counter}}'> Excluded Address</label>
          </div>
          <div class='col-75'>
            <input type='text' id='dhcpex{{forloop.counter}}' name='dhcpex{{forloop.counter}}'
              value="{{dhcpex.address}}" placeholder=' Excluded Address'>
          </div>
          <div class='col-auto addexholder'>
            {% if forloop.counter == dhcpexs|length %}
            <button class='btn btn-primary' type='button' id='addex' addex='{{forloop.counter}}'>
              +</button>
            {% endif %}
          </div>
          <div class='col-auto removebtnholder'>
            {% if forloop.counter == dhcpexs|length %}
            <button class='btn btn-secondary removebtn' type='button' id='removedhcpex' rmdhcp='{{forloop.counter}}'>
              -</button>
            {% endif %}
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="dhcps">
      <input type='hidden' id='dhcp_count' name='dhcp_count' value="{{dhcps|length}}">
      <div class="dhcpform" id="0">
      </div>
      {% for dhcp in dhcps %}
      <hr>
      <div class="dhcpform" id="{{forloop.counter}}">
        <div class="row justify-content-between">
          <div class="col-25">
            <h5 style="display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;"
              id="dhcphead3">DHCP Form {{forloop.counter}}</h5>
          </div>
          <div class="col-75 removebtnholder">
            {% if forloop.counter == dhcps|length %}
            <button class="btn btn-secondary removebtn" type="button" id="removedhcp" rmdhcp="{{forloop.counter}}">-
              Remove DHCP {{forloop.counter}}</button>
            {% endif %}
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="dhcpname{{forloop.counter}}"> DHCP Name</label>
          </div>
          <div class="col-75">
            <input type="text" id="dhcpname{{forloop.counter}}" name="dhcpname{{forloop.counter}}" value="{{dhcp.name}}"
              placeholder="Address">
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="dhcpnet{{forloop.counter}}"> Network IP </label>
          </div>
          <div class="col-75">
            <input type="text" id="dhcpnet{{forloop.counter}}" name="dhcpnet{{forloop.counter}}"
              value="{{dhcp.network_ip}}" placeholder="Network IP">
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="dhcpsub{{forloop.counter}}"> Subnet Address</label>
          </div>
          <div class="col-75">
            <input type="text" id="dhcpsub{{forloop.counter}}" name="dhcpsub{{forloop.counter}}"
              value="{{dhcp.network_subnet}}" placeholder="Subnet Address">
          </div>
        </div>
        <div class="row">
          <div class="col-25">
            <label for="dhcprout{{forloop.counter}}"> Default Router</label>
          </div>
          <div class="col-75">
            <input type="text" id="dhcprout{{forloop.counter}}" name="dhcprout{{forloop.counter}}"
              value="{{dhcp.default_router}}" placeholder="Address">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <!-- ospfv3 -->
    <hr>
    <div class="row">
      <div class="col-25">
        <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="ospfv3">OSPFv3
        </h3>
      </div>
      <div class="col-75"><button class="btn btn-primary" type="button" id="addospf"><i data-feather="plus"></i>
          <span>Add OSPFv3</span></button>
      </div>
    </div>
    <div class="ospfs">
      <input type='hidden' id='ospf_count' name='ospf_count' value="{{ospfs|length}}">
      <div class="ospfform" id="0">
      </div>
      {% for ospf in ospfs %}
      <hr>
      <div class="ospfform" id="{{forloop.counter}}">
        <div class='row justify-content-between'>
          <div class='col-25'>
            <h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;'
              id="ospfhead"> OSPF Form{{forloop.counter}}</h5>
          </div>
          <div class='col-75 removebtnholder'>
            {% if forloop.counter == ospfs|length %}
            <button class='btn btn-secondary removebtn' type='button' id='removeospf' rmvlan="{{forloop.counter}}">
              - Remove OSPF {{forloop.counter}}</button>
            {% endif %}
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='ospfpro{{forloop.counter}}" + id + "'> Process ID</label>
          </div>
          <div class='col-75'>
            <input type='text' id="ospfpro{{forloop.counter}}" name="ospfpro{{forloop.counter}}"
              value="{{ospf.process}}" placeholder='Process ID'>
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for="ospfrid{{forloop.counter}}"> Router ID</label>
          </div>
          <div class='col-75'>
            <input type='text' id="ospfrid{{forloop.counter}}" name="ospfrid{{forloop.counter}}" placeholder="Router ID"
              value="{{ospf.router_id}}">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>




    <!-- User Account -->
    <hr>
    <div class="row">
      <div class="col-25">
        <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="usracc">User Account
        </h3>
      </div>
      <div class="col-75"><button class="btn btn-primary" type="button" id="adduser"><i data-feather="plus"></i>
          <span>Add User</span></button>
      </div>
    </div>
    <div class="users">
      <input type='hidden' id='user_count' name='user_count' value="{{users|length}}">
      <div class="userform" id="0"></div>
    </div>
    {% for usr in users %}
    <div class="userform" id="{{forloop.counter}}">
      <div class='row justify-content-between'>
        <div class='col-25'>
          <h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;'
            id="userhead"> User Form{{forloop.counter}}</h5>
        </div>
        <div class='col-75 removebtnholder'>
          {% if forloop.counter == users|length %}
          <button class='btn btn-secondary removebtn' type='button' id='removeuser' rmvlan='" + id + "'>
            - Remove user {{forloop.counter}}</button>
          {% endif %}
        </div>
      </div>
      <div class='row'>
        <div class='col-25'>
          <label for='username{{forloop.counter}}'> Name</label>
        </div>
        <div class='col-75'>
          <input type='text' id="username{{forloop.counter}}" name="username{{forloop.counter}}" value="{{usr.name}}"
            placeholder='Name'>
        </div>
      </div>
      <div class='row'>
        <div class='col-25'>
          <label for='userpass{{forloop.counter}}'> Password</label>
        </div>
        <div class='col-75'>
          <input type='text' id="userpass{{forloop.counter}}" name="userpass{{forloop.counter}}"
            value="{{usr.password}}" placeholder="Password">
        </div>
      </div>
    </div>
    {% endfor %}
    <!-- ACL -->
    <hr>
    <div class="row">
      <div class="col-25">
        <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="l3acl">ACL
        </h3>
      </div>
      <div class="col-75"><button class="btn btn-primary" type="button" id="addacl"><i data-feather="plus"></i>
          <span>Add ACL</span></button>
      </div>
    </div>
    <div class="acls">
      <input type='hidden' id='acl_count' name='acl_count' value="{{acls|length}}">
      <div class="aclform" id="0"></div>
      {% for aclel in aclels %}
      {% for acl in acls %}
      {% with outer_counter=forloop.counter %}
      <div class='aclform' id="{{outer_counter}}">
        <div class='row justify-content-between'>
          <div class='col-25'>
            <h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;'
              id="aclhead">Acl Form {{outer_counter}}</h5>
          </div>
          <div class='col-75 aclremovebtnholder'>
            {% if forloop.counter == acls|length %}
            <button class='btn btn-secondary removebtn' type='button' id='removeacl' rmvlan='{{outer_counter}}'>
              - Remove ACL {{outer_counter}}</button>
            {% endif %}
            {% if aclel|length == 0 %}
            <button class='btn btn-primary' type='button' id='addaclel' addaclel='{{outer_counter}}'>
              + Add contorls {{outer_counter}}</button>
            {% endif %}
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='aclname{{forloop.counter}}'> Name</label>
          </div>
          <div class='col-75'>
            <input type='text' id="aclname{{forloop.counter}}" name="aclname{{forloop.counter}}" value="{{acl.name}}"
              placeholder=' ACL Name'>
          </div>
        </div>
        <div class='aclels' id="{{outer_counter}}">
          <input type='hidden' id='acl_el_count{{outer_counter}}' name='acl_el_count{{outer_counter}}'
            value="{{aclel|length}}">
          <div class='aclelform' id='0'>
          </div>

          {% for acle in aclel %}
          <div class='aclelform' id='{{forloop.counter}}'>
            <div class='row'>
              <div class='col-25'>
                <label for='aclcontrol{{forloop.counter}}'>Control Type</label>
              </div>
              <div class='col-auto'>
                <select type='text' id='aclcontrol{{forloop.counter}}' name='aclcontrol{{forloop.counter}}'>
                  {% if acle.type == "permit" %}
                  <option value="permit" selected>Permit</option>
                  <option value="deny">Deny</option>
                  {% elif acle.type == "deny" %}
                  <option value="permit">Permit</option>
                  <option value="deny" selected>Deny</option>
                  {% endif %}
                </select>
              </div>
              <div class='col-auto'>
                <label for='acladd{{forloop.counter}}'>ACL Address</label>
              </div>
              <div class='col-auto'>
                <input type='text' id='acladd{{forloop.counter}}' value="{{acle.address}}"
                  name='acladd{{forloop.counter}}' placeholder=' ACL Address'>
              </div>
              {% if forloop.counter == aclel|length %}
              <div class='col-auto addbtnholder'>
                <button class='btn btn-primary' type='button' id='addaclel' addaclel='{{outer_counter}}'>
                  +</button>
              </div>
              <div class='col-auto removebtnholder'><button class='btn btn-secondary' type='button' id='removeaclel'
                  id2='{{forloop.counter}}' removeaclel='{{outer_counter}}'>
                  -</button>
              </div>
              {% endif %}
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
      {% endwith %}
      {% endfor %}
      {% endfor %}
    </div>



    <!--STP_VLAN-->
    <hr>
    <div class="row">
      <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="stp_vlan">STP
      </h3>
    </div>
    <div class="stpvlans">
      <input type='hidden' id='stp_count' name='stp_count' value="{{stp_vlans|length}}">
      <div class="row">
        <div class="col-25">
          <label for="stp_mode">STP Mode</label>
        </div>
        <div class="col-75">
          <input type="text" id="stp_mode" name="stp_mode" placeholder="STP Mode" value="{{script.stp_mode}}">
        </div>
      </div>

      <div class='row'>
        <div class='col-auto stpbtn'>
          {% if stp_vlans|length == 0 %}
          <button class='btn btn-primary' type='button' id='addstp' addex='1'>+ Add Root Bridge
          </button>
          {% endif %}
        </div>
      </div>
      <div class="stpvlanform" id="0"></div>

      {% for stp_vlan in stp_vlans %}
      <div class="stpvlanform" id="{{forloop.counter}}">

        <div class='row'>
          <div class='col-25'>
            <label for="stproot{{forloop.counter}}"> Root</label>
          </div>
          <div class='col-auto'>
            <select type='text' id='stproot{{forloop.counter}}' name='stproot{{forloop.counter}}'>
              {% if stp_vlan.root == "primary" %}
              <option value="permit" selected>Primary</option>
              <option value="deny">Secondary</option>
              {% elif stp_vlan.root == "secondary" %}
              <option value="permit">Primary</option>
              <option value="deny" selected>Secondary</option>
              {% endif %}
            </select>
          </div>
          <div class='col-auto'>
            <label for='stpvlan{{forloop.counter}}'> Vlan</label>
          </div>
          <div class='col-auto'>
            <input type='text' id="stpvlan{{forloop.counter}}" name="stpvlan{{forloop.counter}}" placeholder='Vlan'
              value="{{stp_vlan.vlan}}">
          </div>
          <div class='col-auto'>
            <button class='btn btn-secondary' type='button' id='removestp' removestp='1'>X
            </button>
          </div>
        </div>
      </div>
      {% endfor %}
    </div>


    <!-- <div class="row">
      <div class="col-25">
        <label for="stpvlan"> Vlan</label>
      </div>
      <div class="col-75">
        <input type="text" id="stpvlan" name="stpvlan" placeholder="Vlan">
      </div>
    </div>
    <div class="row">
      <div class="col-25">
        <label for="stproot"> Root Number</label>
      </div>
      <div class="col-75">
        <input type="text" id="stproot" name="stproot" placeholder="Root Number">
      </div>
    </div> -->

    <!-- Interface -->
    <hr>
    <div class="row">
      <div class="col-25">
        <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="intrfce">Interfaces
        </h3>
      </div>
      <div class="col-75"><button class="btn btn-primary" type="button" id="addint"><i data-feather="plus"></i>
          <span>Add Interface</span></button>
      </div>
    </div>
    <div class="interfaces">
      <input type='hidden' id='int_count' name='int_count' value="{{interfaces|length}}">
      <div class="interfaceform" id="0"></div>
      {% for intr in interfaces %}
      <div class='interfaceform' id="{{forloop.counter}}">
        <div class='row justify-content-between'>
          <div class='col-25'>
            <h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;'
              id="interfacehead">Interface Form{{forloop.counter}}</h5>
          </div>
          <div class='col-75 removebtnholder'>
            {% if forloop.counter == interfaces|length %}
            <button class='btn btn-secondary removebtn' type='button' id='removeinterface' rminterface='" + id + "'>
              - Remove Iterface {{forloop.counter}}</button>
            {% endif %}
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intstatus{{forloop.counter}}" + id + "'>Status</label>
          </div>
          <div class='col-75'>
            <select type='text' id='intstatus{{forloop.counter}}' name='intstatus{{forloop.counter}}'>
              {% if intr.status == "" %}
              <option value="" selected>Shutdown</option>
              <option value="no">Up</option>
              {% elif intr.status == "no" %}
              <option value="">Shutdown</option>
              <option value="no" selected>Up</option>
              {% endif %}
            </select>
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intname{{forloop.counter}}'>Interface Name</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intname{{forloop.counter}}" name="intname{{forloop.counter}}"
              placeholder='Interface Name' value="{{intr.name}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intsw{{forloop.counter}}'>Switchport</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intsw{{forloop.counter}}" name="intsw{{forloop.counter}}"
              placeholder='Switchport Name' value="{{intr.switchport}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intip{{forloop.counter}}'>IPv4 Address</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intip{{forloop.counter}}" name="intip{{forloop.counter}}"
              placeholder='xxx.xxx.xxx.xxx' value="{{intr.ipv4_address}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intsub{{forloop.counter}}'>IPv4 Subnet</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intsub{{forloop.counter}}" name="intsub{{forloop.counter}}"
              placeholder='xxx.xxx.xxx.xxx' value="{{intr.ipv4_subnet}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intipv6{{forloop.counter}}'>IPv6 Address</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intipv6{{forloop.counter}}" name="intipv6{{forloop.counter}}"
              placeholder='IPv6 Address' value="{{intr.ipv6_address}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intpre{{forloop.counter}}'>IPv6 Prefix</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intpre{{forloop.counter}}" name="intpre{{forloop.counter}}" placeholder='xx'
              value="{{intr.ipv6_prefix}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intlink{{forloop.counter}}'>IPv6 Link-Local</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intlink{{forloop.counter}}" name="intlink{{forloop.counter}}"
              placeholder='IPv6 Link-Local' value="{{intr.ipv6_link}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intswmode{{forloop.counter}}'>SwitchPort Mode</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intswmode{{forloop.counter}}" name="intswmode{{forloop.counter}}"
              placeholder='SwitchPort Mode' value="{{intr.sw_mode}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intswaccess{{forloop.counter}}'>SwitchPort Access</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intswaccess{{forloop.counter}}" name="intswaccess{{forloop.counter}}"
              placeholder='SwitchPort Access' value="{{intr.sw_access}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intallvlan{{forloop.counter}}'>Vlans Allowed</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intallvlan{{forloop.counter}}" name="intallvlan{{forloop.counter}}"
              placeholder='Vlans Allowed' value="{{intr.allowed_vlan}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intnative{{forloop.counter}}'>Native Vlan</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intnative{{forloop.counter}}" name="intnative{{forloop.counter}}"
              placeholder='Native Vlan' value="{{intr.native_vlan}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intencap{{forloop.counter}}'>Encapsulation</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intencap{{forloop.counter}}" name="intencap{{forloop.counter}}"
              placeholder='Encapsulation' value="{{intr.encapsulation}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intencap{{forloop.counter}}'>Non- Negiotate</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intnoneg{{forloop.counter}}" name="intnoneg{{forloop.counter}}"
              placeholder='Non- Negiotate' value="{{intr.nonegotiate}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intch{{forloop.counter}}'>Channel Group</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intch{{forloop.counter}}" name="intch{{forloop.counter}}" placeholder='Channel Group'
              value="{{intr.channel_group}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intchmode{forloop.counter}}'>Channel Mode</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intchmode{forloop.counter}}" name="intchmode{forloop.counter}}"
              placeholder='Channel Mode' value="{{intr.channel_mode}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intstpcost{forloop.counter}}'>STP Cost</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intstpcost{forloop.counter}}" name="intstpcost{forloop.counter}}"
              placeholder='STP Cost' value="{{intr.stp_cost}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intipospf{forloop.counter}}" + id + "'>IPv4 OSPFv3</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intipospf{{forloop.counter}}" name="intipospf{forloop.counter}}"
              placeholder='IPv4 OSPFv3' value="{{intr.ipv4_ospfv3}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intiparea{forloop.counter}}" + id + "'>IPv4 Area</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intiparea{{forloop.counter}}" name="intiparea{{forloop.counter}}"
              placeholder='IPv4 Area' value="{{intr.ipv4_area}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intipv6ospf{{forloop.counter}}" + id + "'>IPv6 OSPFv3</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intipv6ospf{{forloop.counter}}" name='intipv6ospf" + id + "'
              placeholder='IPv6 OSPFv3' value="{{intr.ipv6_ospfv3}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='intipv6area{{forloop.counter}}" + id + "'>IPv6 Area</label>
          </div>
          <div class='col-75'>
            <input type='text' id="intipv6area{{forloop.counter}}" name="intipv6area{{forloop.counter}}"
              placeholder='IPv6 Area' value="{{intr.ipv6_area}}">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>

    <hr>
    <!-- VLAN -->

    <div class="row">
      <div class="col-25">
        <h3 style="display: inline; float: left; color: darkblue; font-family: monospace;" id="vlan">VLAN</h3>
      </div>
      <div class="col-75"><button class="btn btn-primary" type="button" id="addvlan"><i data-feather="plus"></i>
          <span>Add VLAN</span></button>
      </div>

    </div>
    <div class="vlans">
      <input type='hidden' id='vlan_count' name='vlan_count' value="{{vlans|length}}">
      <div class="vlanform" id="0"></div>
      {% for vlan in vlans %}
      <div class='vlanform' id='{{forloop.counter}}'>
        <div class='row justify-content-between'>
          <div class='col-25'>
            <h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;'
              id="vlanhead">Vlan Form {{forloop.counter}} </h5>
          </div>

          <div class='col-75 removebtnholder'>
            {% if forloop.counter == vlans|length %}
            <button class='btn btn-secondary removebtn' type='button' id='removevlan' rmvlan='{{forloop.counter}}'>
              - Remove VLAN {{forloop.counter}}</button>
            {% endif %}
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlannum{{forloop.counter}}'>VLAN</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlannum{{forloop.counter}}" name="vlannum{{forloop.counter}}"
              placeholder='VLAN Number' value="{{vlan.number}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlanname{{forloop.counter}}'>VLAN Name</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlanname{{forloop.counter}}" name="vlanname{{forloop.counter}}"
              placeholder='VLAN Name' value="{{vlan.name}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlanip{{forloop.counter}}'>IPv4 Address</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlanip{{forloop.counter}}" name="vlanip{{forloop.counter}}"
              placeholder='xxx.xxx.xxx.xxx' value="{{vlan.ipv4_address}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlansub{{forloop.counter}}'>IPv4 Subnet</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlansub{{forloop.counter}}" name="vlansub{{forloop.counter}}"
              placeholder='xxx.xxx.xxx.xxx' value="{{vlan.ipv4_subnet}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlanipv6{{forloop.counter}}'>IPv6 Address</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlanipv6{{forloop.counter}}" name="vlanipv6{{forloop.counter}}"
              placeholder='IPv6 Address' value="{{vlan.ipv6_address}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlanpre{{forloop.counter}}'>IPv6 Prefix</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlanpre{{forloop.counter}}" name="vlanpre{{forloop.counter}}" placeholder='xx'
              value="{{vlan.ipv6_prefix}}">
          </div>
        </div>
        <div class='row'>
          <div class='col-25'>
            <label for='vlanlink{{forloop.counter}}'>IPv6 Link-Local</label>
          </div>
          <div class='col-75'>
            <input type='text' id="vlanlink{{forloop.counter}}" name="vlanlink{{forloop.counter}}"
              placeholder='IPv6 Link-Local' value="{{vlan.ipv6_link}}">
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
    <hr>
    <div class="row text-center">
        <h5 style="display: inline; float: left; color: red; font-family: monospace;" id="note">Note: If you have made changes, save the form before generating the script.</h5>
    </div>

    <hr>
    <div class="row">
      <div class="col">
        <div class='d-flex justify-content-between'>

          {% csrf_token %}

          <input type='hidden' name='device_id' value='2'>
          {% if script.id is not null %}
          <input type='hidden' name='script_id' value='{{script.id}}'>
          {% endif %}
          <button class="btn btn-primary" type="submit"><i data-feather="save"></i> <span>Save</span></button>
  </form>



  {% if script.id is not null %}
  <form method='POST' action="generate_exe">
    {% csrf_token %}
    <input type='hidden' name='script_id' value='{{script.id}}'>
    <button class="btn btn-success" type="submit"><i data-feather="download"></i>
      <span>Executable</span></button>
  </form>
  <form method='POST' action="generate_text">
    {% csrf_token %}
    <input type='hidden' name='script_id' value='{{script.id}}'>
    <button class="btn btn-success" type="submit"><i data-feather="download"></i> <span>Text</span></button>
  </form>
  {% endif %}
  <button class="btn btn-primary">
    <span><a href="dashboard" class="text-white">Cancel</a></span></button>
</div>
</div>
</div>
</div>

{% endblock %}

{% block script %}




<script type="text/javascript">
  $(document).ready(function () {

    $(document).on('click', '#removevlan', function () {
      $('.vlans div.vlanform:last-child').remove();
      var id = parseInt($('.vlans div.vlanform:last-child').attr('id'));
      $('input#vlan_count').val(id);
      $('.vlans div.vlanform:last-child .removebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removevlan' rmvlan='" + id + "'>" +
        "- Remove VLAN " + id + "</button>");
    });

    $('#addvlan').on('click', function () {
      $('.vlans').each(function () {
        var id = parseInt($('.vlans div.vlanform:last-child').attr('id')) + 1;
        $('.vlans input#vlan_count').val(id);
        $('div.col-75 #removevlan').remove();
        $('.vlans').append("<div class='vlanform' id='" + id + "'>" +
          "<div class='row justify-content-between'>" +
          "<div class='col-25'>" +
          "<h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;' id='vlanhead" + id + "'>Vlan Form " + id + "</h5>" +
          "</div>" +
          "<div class='col-75 removebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removevlan' rmvlan='" + id + "'>" +
          "- Remove VLAN " + id + "</button>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlannum" + id + "'>VLAN</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlannum" + id + "' name='vlannum" + id + "' placeholder='VLAN Number'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlanname" + id + "'>VLAN Name</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlanname" + id + "' name='vlanname" + id + "' placeholder='VLAN Name'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlanip" + id + "'>IPv4 Address</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlanip" + id + "' name='vlanip" + id + "' placeholder='xxx.xxx.xxx.xxx'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlansub" + id + "'>IPv4 Subnet</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlansub" + id + "' name='vlansub" + id + "' placeholder='xxx.xxx.xxx.xxx'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlanipv6" + id + "'>IPv6 Address</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlanipv6" + id + "' name='vlanipv6" + id + "' placeholder='IPv6 Address'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlanpre" + id + "'>IPv6 Prefix</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlanpre" + id + "' name='vlanpre" + id + "' placeholder='xx'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='vlanlink" + id + "'>IPv6 Link-Local</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='vlanlink" + id + "' name='vlanlink" + id + "' placeholder='IPv6 Link-Local'>" +
          "</div>" +
          "</div>" +
          "</div>");
      });
    });

    $(document).on('click', '#removeinterface', function () {
      console.log($('.interfaces div.interfaceform:last-child'))
      $('.interfaces div.interfaceform:last-child').remove();
      var id = parseInt($('.interfaces div.interfaceform:last-child').attr('id'));
      $('input#int_count').val(id);
      $('.interfaces div.interfaceform:last-child .removebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removeinterface' rminterface='" + id + "'>" +
        "- Remove Interface " + id + "</button>");
    });

    $('#addint').on('click', function () {
      $('.interfaces').each(function () {
        var id = parseInt($('.interfaces div.interfaceform:last-child').attr('id')) + 1;
        $('input#int_count').val(id);
        $('div.col-75 #removeinterface').remove();
        $('.interfaces').append("<div class='interfaceform' id='" + id + "'>" +
          "<div class='row justify-content-between'>" +
          "<div class='col-25'>" +
          "<h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;' id='interfacehead" + id + "'>Interface Form " + id + "</h5>" +
          "</div>" +
          "<div class='col-75 removebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removeinterface' rminterface='" + id + "'>" +
          "- Remove Iterface " + id + "</button>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intstatus" + id + "'>Status</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<select type='text' id='intstatus" + id + "' name='intstatus" + id + "'>" +
          "<option value=''>Shutdown</option>" +
          "<option value='no'>Up</option>" +
          "</select>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intname" + id + "'>Interface Name</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intname" + id + "' name='intname" + id + "' placeholder='Interface Name'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intsw" + id + "'>Switchport</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intsw" + id + "' name='intsw" + id + "' placeholder='Switchport Name'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intip" + id + "'>IPv4 Address</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intip" + id + "' name='intip" + id + "' placeholder='xxx.xxx.xxx.xxx'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intsub" + id + "'>IPv4 Subnet</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intsub" + id + "' name='intsub" + id + "' placeholder='xxx.xxx.xxx.xxx'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intipv6" + id + "'>IPv6 Address</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intipv6" + id + "' name='intipv6" + id + "' placeholder='IPv6 Address'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intpre" + id + "'>IPv6 Prefix</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intpre" + id + "' name='intpre" + id + "' placeholder='xx'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intlink" + id + "'>IPv6 Link-Local</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intlink" + id + "' name='intlink" + id + "' placeholder='IPv6 Link-Local'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intswmode" + id + "'>SwitchPort Mode</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intswmode" + id + "' name='intswmode" + id + "' placeholder='SwitchPort Mode'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intswaccess" + id + "'>SwitchPort Access</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intswaccess" + id + "' name='intswaccess" + id + "' placeholder='SwitchPort Access'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intallvlan" + id + "'>Vlans Allowed</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intallvlan" + id + "' name='intallvlan" + id + "' placeholder='Vlans Allowed'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intnative" + id + "'>Native Vlan</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intnative" + id + "' name='intnative" + id + "' placeholder='Native Vlan'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intencap" + id + "'>Encapsulation</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intencap" + id + "' name='intencap" + id + "' placeholder='Encapsulation'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intencap" + id + "'>Non- Negiotate</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intnoneg" + id + "' name='intnoneg" + id + "' placeholder='Encapsulation'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intch" + id + "'>Channel Group</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intch" + id + "' name='intch" + id + "' placeholder='Encapsulation'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intchmode" + id + "'>Channel Mode</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intchmode" + id + "' name='intchmode" + id + "' placeholder='Channel Mode'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intstpcost" + id + "'>STP Cost</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intstpcost" + id + "' name='intstpcost" + id + "' placeholder='STP Cost'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intipospf" + id + "'>IPv4 OSPFv3</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intipospf" + id + "' name='intipospf" + id + "' placeholder='IPv4 OSPFv3'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intiparea" + id + "'>IPv4 Area</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intiparea" + id + "' name='intiparea" + id + "' placeholder='IPv4 Area'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intipv6ospf" + id + "'>IPv6 OSPFv3</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intipv6ospf" + id + "' name='intipv6ospf" + id + "' placeholder='IPv6 OSPFv3'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='intipv6area" + id + "'>IPv6 Area</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='intipv6area" + id + "' name='intipv6area" + id + "' placeholder='IPv6 Area'>" +
          "</div>" +
          "</div>" +
          "</div>");
      });
    });

    $(document).on('click', '#removedhcp', function () {
      $('.dhcps div.dhcpform:last-child').remove();
      var id = parseInt($('.dhcps div.dhcpform:last-child').attr('id'));
      $('input#dhcp_count').val(id);
      $('.dhcps div.dhcpform:last-child div.col-75.removebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removedhcp' rmdhcp='" + id + "'>" +
        "- Remove DHCP " + id + "</button>");
    });

    $(document).on('click', '#adddhcp', function () {
      $('.dhcps').each(function () {
        var id = parseInt($('.dhcps div.dhcpform:last-child').attr('id')) + 1;
        $('input#dhcp_count').val(id);
        $('div.col-75 #removedhcp').remove();
        $('.dhcps').append("<hr>" +
          "<div class='dhcpform' id='" + id + "'>" +
          "<div class='row justify-content-between'>" +
          "<div class='col-25'>" +
          "<h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;' id='dhcphead" + id + "'>DHCP Form " + id + "</h5>" +
          "</div>" +
          "<div class='col-75 removebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removedhcp' rmdhcp='" + id + "'>" +
          "- Remove DHCP " + id + "</button>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='dhcpname" + id + "'> DHCP Name</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='dhcpname" + id + "' name='dhcpname" + id + "' placeholder='Address'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='dhcpnet" + id + "'> Network IP </label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='dhcpnet" + id + "' name='dhcpnet" + id + "' placeholder='Network IP'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='dhcpsub" + id + "'> Subnet Address</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='dhcpsub" + id + "' name='dhcpsub" + id + "' placeholder='Subnet Address'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='dhcprout" + id + "'> Default Router</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='dhcprout" + id + "' name='dhcprout" + id + "' placeholder='Address'>" +
          "</div>" +
          "</div>" +
          "</div>"

        );
      });
    });

    $(document).on('click', '#removedhcpex', function () {
      $('.dhcpexs div.dhcpexform:last-child').remove();
      var id = parseInt($('.dhcpexs div.dhcpexform:last-child').attr('id'));
      $('input#dhcp_ex_count').val(id);
      $('.dhcpexs div.dhcpexform:last-child div.col-auto.removebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removedhcpex' rmdhcp='" + id + "'>" +
        "-</button>");
      $('.dhcpexs div.dhcpexform:last-child div.col-auto.addexholder').append("<button class='btn btn-primary' type='button' id='addex' addex='" + id + "'>" +
        "+</button>");
    });

    $(document).on('click', '#addex', function () {
      $('.dhcpexs').each(function () {
        var id = parseInt($('.dhcpexs div.dhcpexform:last-child').attr('id')) + 1;
        $('input#dhcp_ex_count').val(id);
        $('div.col-auto #removedhcpex').remove();
        $('div.col-auto #addex').remove();
        $('.dhcpexs').append(
          "<div class='dhcpexform' id='" + id + "'>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='dhcpex" + id + "'> Excluded Address</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='dhcpex" + id + "' name='dhcpex" + id + "' placeholder=' Excluded Address'>" +
          "</div>" +
          "<div class='col-auto addexholder'>" +
          "<button class='btn btn-primary' type='button' id='addex' addex='" + id + "'>" +
          "+</button>" +
          "</div>" +
          "<div class='col-auto removebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removedhcpex' rmdhcp='" + id + "'>" +
          "-</button>" +
          "</div>" +
          "</div>" +
          "</div>"

        );
      });
    });

    $(document).on('click', '#removestp', function () {
      $('.stpvlans').each(function () {
        $('.stpvlans div.stpvlanform:last-child').remove();
        var id = parseInt($('.stpvlans div.stpvlanform:last-child').attr('id'));
        $('input#stp_count').val(id);
        $('div.col-auto.stpbtn').append("<button class='btn btn-primary' type='button' id='addstp' removestp='1'>+ Add Root Bridge" +
          "</button>");
      });
    });

    $(document).on('click', '#addstp', function () {
      $('.stpvlans').each(function () {
        var id = parseInt($('.stpvlans div.stpvlanform:last-child').attr('id')) + 1;
        $('input#stp_count').val(id);
        $('div.col-auto #addstp').remove();
        $('.stpvlans').append(
          "<div class='stpvlanform' id='" + id + "'>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='stproot" + id + "'> Root Number</label>" +
          "</div>" +
          "<div class='col-auto'>" +
          "<select type='text' id='stproot" + id + "'" +
          "name='stproot" + id + "'>" +
          "<option value='primary'>Primary</option>" +
          "<option value='secondary'>Secondary</option>" +
          "</select>" +
          "</div>" +
          "<div class='col-auto'>" +
          "<label for='stpvlan" + id + "'> Vlan</label>" +
          "</div>" +
          "<div class='col-auto'>" +
          "<input type='text' id='stpvlan" + id + "' name='stpvlan" + id + "' placeholder='Vlan'>" +
          "</div>" +
          "<div class='col-auto'>" +
          "<button class='btn btn-secondary' type='button' id='removestp' removestp='1'>X" +
          "</button>" +
          "</div>" +
          "</div>" +
          "</div>"

        );
      });
    });

    $(document).on('click', '#removeospf', function () {
      $('.ospfs div.ospfform:last-child').remove();
      var id = parseInt($('.ospfs div.ospfform:last-child').attr('id'));
      $('input#ospf_count').val(id);
      $('.ospfs div.ospfform:last-child .removebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removeospf' rmospf='" + id + "'>" +
        "- Remove OSPF " + id + "</button>");
    });

    $(document).on('click', '#addospf', function () {
      $('.ospfs').each(function () {
        var id = parseInt($('.ospfs div.ospfform:last-child').attr('id')) + 1;
        $('input#ospf_count').val(id);
        $('div.col-75 #removeospf').remove();
        $('.ospfs').append("<div class='ospfform' id='" + id + "'>" +
          "<div class='row justify-content-between'>" +
          "<div class='col-25'>" +
          "<h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;' id='ospfhead" + id + "'>OSPF Form " + id + "</h5>" +
          "</div>" +
          "<div class='col-75 removebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removeospf' rmvlan='" + id + "'>" +
          "- Remove OSPF " + id + "</button>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='ospfpro" + id + "'> Process ID</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='ospfpro" + id + "' name='ospfpro" + id + "' placeholder='Process ID'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='ospfrid" + id + "'> Router ID</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='ospfrid" + id + "' name='ospfrid" + id + "' placeholder='Router ID'>" +
          "</div>" +
          "</div>" +
          "</div>"
        );
      });
    });

    $(document).on('click', '#removeuser', function () {
      $('.users div.userform:last-child').remove();
      var id = parseInt($('.users div.userform:last-child').attr('id'));
      $('input#user_count').val(id);
      $('.users div.userform:last-child .removebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removeuser' rmuser='" + id + "'>" +
        "- Remove User " + id + "</button>");
    });

    $(document).on('click', '#adduser', function () {
      $('.users').each(function () {
        var id = parseInt($('.users div.userform:last-child').attr('id')) + 1;
        $('input#user_count').val(id);
        $('div.col-75 #removeuser').remove();
        $('.users').append("<div class='userform' id='" + id + "'>" +
          "<div class='row justify-content-between'>" +
          "<div class='col-25'>" +
          "<h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;' id='userhead" + id + "'>User Form " + id + "</h5>" +
          "</div>" +
          "<div class='col-75 removebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removeuser' rmvlan='" + id + "'>" +
          "- Remove user " + id + "</button>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='username" + id + "'> Name</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='username" + id + "' name='username" + id + "' placeholder='Name'>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='userpass" + id + "'> Password</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='userpass" + id + "' name='userpass" + id + "' placeholder='Name'>" +
          "</div>" +
          "</div>" +
          "</div>"
        );
      });
    });

    $(document).on('click', '#removeacl', function () {
      $('.acls div.aclform:last-child').remove();
      var id = parseInt($('.acls div.aclform:last-child').attr('id'));
      $('input#acl_count').val(id);
      $('.acls div.aclform:last-child .aclremovebtnholder').append("<button class='btn btn-secondary removebtn' type='button' id='removeacl' rmacl='" + id + "'>" +
        "- Remove ACL " + id + "</button>");
    });

    $(document).on('click', '#addacl', function () {
      $('.acls').each(function () {
        var id = parseInt($('.acls div.aclform:last-child').attr('id')) + 1;
        $('div.col-75 #removeacl').remove();
        $('input#acl_count').val(id);
        $('.acls').append("<div class='aclform' id='" + id + "'>" +
          "<div class='row justify-content-between'>" +
          "<div class='col-25'>" +
          "<h5 style='display: inline; float: left; color:darkslategrey; font-family: monospace; font-weight: bolder;' id='aclhead" + id + "'>Access List Form " + id + "</h5>" +
          "</div>" +
          "<div class='col-75 aclremovebtnholder'>" +
          "<button class='btn btn-secondary removebtn' type='button' id='removeacl' rmvlan='" + id + "'>" +
          "- Remove ACL " + id + "</button>" +
          "<button class='btn btn-primary' type='button' id='addaclel' addaclel='" + id + "'>" +
          "+ Add contorls</button>" +
          "</div>" +
          "</div>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='aclname" + id + "'> Name</label>" +
          "</div>" +
          "<div class='col-75'>" +
          "<input type='text' id='aclname" + id + "' name='aclname" + id + "' placeholder=' ACL Name'>" +
          "</div>" +
          "</div>" +
          "<div class='aclels' id='" + id + "'>" +
          "<input type='hidden' id='acl_el_count" + id + "' name='acl_el_count" + id + "' value='0'>" +
          "<div class='aclelform' id='0'>" +
          "</div>" +
          "</div>" +
          "</div>"
        );
      });
    });

    $(document).on('click', '#removeaclel', function () {
      var id = $(this).attr('removeaclel');
      var id2 = $(this).attr('id2');
      if (id2 == 1) {
        $('.aclform#' + id + ' .aclels .aclelform:last-child').remove();
        id2 = parseInt(id2) - 1;
        $('input#acl_el_count' + id).val(id2);
        $('.aclremovebtnholder').append("<button class='btn btn-primary' type='button' id='addaclel' id2='" + id2 + "' addaclel='" + id + "'>" +
          "+ Add contorls</button>");
      } else {
        $('.aclels').each(function () {
          $('.aclform#' + id + ' .aclels .aclelform:last-child').remove();
          id2 = parseInt(id2) - 1;
          $('input#acl_el_count' + id).val(id2);
          $('.aclform#' + id + ' .aclels .aclelform:last-child .row').append("<div class='col-auto addbtnholder'>" +
            "<button class='btn btn-primary' type='button' id='addaclel' addaclel='" + id + "'>" +
            "+</button>" +
            "</div>" +
            "<div class='col-auto removebtnholder'>" + "<button class='btn btn-secondary' type='button' id='removeaclel' id2='" + id2 + "' removeaclel='" + id + "'>" +
            "-</button>" +
            "</div>");
        });
      }

    });

    $(document).on('click', '#addaclel', function () {
      var id = $(this).attr('addaclel');
      $(this).remove();
      console.log(id)
      var id2 = parseInt($('.aclform#' + id + ' .aclels .aclelform:last-child').attr('id')) + 1;
      console.log(id2)
      $('.aclels').each(function () {
        console.log('done')
        $('.aclform#' + id + ' .removebtnholder').remove();
        $('.aclform#' + id + ' .addbtnholder').remove();
        var id2 = parseInt($('.aclform#' + id + ' .aclels .aclelform:last-child').attr('id')) + 1;
        console.log('done')
        $('input#acl_el_count' + id).val(id2);
        console.log('done')
        $('.aclform#' + id + ' .aclels').append(
          "<div class='aclelform' id='" + id2 + "'>" +
          "<div class='row'>" +
          "<div class='col-25'>" +
          "<label for='aclcontrol" + id2 + "'>Control Type</label>" +
          "</div>" +
          "<div class='col-auto col-sm-75'>" +
          "<select type='text' id='aclcontrol" + id2 + "'" +
          "name='aclcontrol" + id2 + "' placeholder='ACL Control Type'>" +
          "<option value='permit'>Permit</option>" +
          "<option value='deny'>Deny</option>" +
          "</select>" +
          "</div>" +
          "<div class='col-auto col-sm-25'>" +
          "<label for='acladd" + id2 + "'>ACL Address</label>" +
          "</div>" +
          "<div class='col-auto col-sm-75'>" +
          "<input type='text' id='acladd" + id2 + "' name='acladd" + id2 + "' placeholder=' ACL Address'>" +
          "</div>" +
          "<div class='col-auto addbtnholder'>" +
          "<button class='btn btn-primary' type='button' id='addaclel' addaclel='" + id + "'>" +
          "+</button>" +
          "</div>" +
          "<div class='col-auto removebtnholder'>" + "<button class='btn btn-secondary' type='button' id='removeaclel' id2='" + id2 + "' removeaclel='" + id + "'>" +
          "-</button>" +
          "</div>" +
          "</div>" +
          "</div>"

        );


      });
    });



  });




</script>

{% endblock %}